<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin â€“ GÃ¤steliste</title>
<style>
body{font-family:Arial;background:#111;color:white;padding:20px}
table{width:100%;border-collapse:collapse}
td,th{border:1px solid #555;padding:6px}
button{cursor:pointer}
</style>
</head>
<body>

<h2>ðŸ“Š GÃ¤steliste</h2>
<h3 id="summe"></h3>

<table id="table">
<tr><th>Name</th><th>Personen</th><th>Aktion</th></tr>
</table>

<script>
const base="https://geburtstag-bff4c-default-rtdb.europe-west1.firebasedatabase.app/anmeldungen";

async function laden(){
    const res=await fetch(base+".json");
    const data=await res.json();
    let sum=0;
    table.innerHTML="<tr><th>Name</th><th>Personen</th><th>Aktion</th></tr>";
    for(let id in data){
        sum+=data[id].anzahl||0;
        table.innerHTML+=`
        <tr>
        <td>${data[id].name}</td>
        <td>${data[id].anzahl}</td>
        <td>
        <button onclick="del('${id}')">ðŸ—‘</button>
        </td>
        </tr>`;
    }
    summe.innerText="Gesamtpersonen: "+sum;
}
async function del(id){
    await fetch(`${base}/${id}.json`,{method:"DELETE"});
    laden();
}
laden();
setInterval(laden,5000);
</script>

</body>
</html>
