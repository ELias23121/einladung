<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>90. Geburtstag â€“ Maria Ronczka</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
 --gold:#c9b26b;
 --dark:#0b0b0b;
}

body{
 margin:0;
 font-family:'Playfair Display',serif;
 background:var(--dark);
 color:#f5f5f5;
}

#bg{
 position:fixed; inset:0; z-index:-2;
}
.slide{
 position:absolute; inset:0;
 background-size:cover;
 background-position:center;
 opacity:0;
 animation:fade 50s infinite;
}
.slide:nth-child(1){background-image:url("bilder/bild1.jpg")}
.slide:nth-child(2){background-image:url("bilder/bild2.jpg");animation-delay:10s}
.slide:nth-child(3){background-image:url("bilder/bild3.jpg");animation-delay:20s}
.slide:nth-child(4){background-image:url("bilder/bild4.jpg");animation-delay:30s}
.slide:nth-child(5){background-image:url("bilder/bild5.jpg");animation-delay:40s}

@keyframes fade{
 0%{opacity:0} 10%{opacity:1} 25%{opacity:1} 35%{opacity:0}
}

.overlay{
 position:fixed; inset:0;
 background:rgba(0,0,0,.8);
 z-index:-1;
}

.card{
 max-width:900px;
 margin:60px auto;
 padding:50px;
 background:rgba(10,10,10,.85);
 border:1px solid var(--gold);
 box-shadow:0 0 40px rgba(201,178,107,.2);
}

h1{color:var(--gold);text-align:center}
p{text-align:center;line-height:1.7;font-size:18px}

button{
 background:none;
 border:1px solid var(--gold);
 color:var(--gold);
 padding:14px 32px;
 font-family:inherit;
 font-size:18px;
 cursor:pointer;
 margin:20px auto;
 display:block;
}
button:hover{background:var(--gold);color:#000}

.modal{
 position:fixed; inset:0;
 display:none;
 justify-content:center;
 align-items:center;
 background:rgba(0,0,0,.85);
}
.modal-box{
 background:#111;
 border:1px solid var(--gold);
 padding:30px;
 width:90%;
 max-width:520px;
}

input,textarea{
 width:100%;
 margin-bottom:10px;
 padding:10px;
 background:#1a1a1a;
 border:1px solid #333;
 color:white;
 font-family:inherit;
}

table{
 width:100%;
 border-collapse:collapse;
}
th,td{
 border:1px solid #444;
 padding:6px;
 text-align:left;
}

.admin{
 display:none;
 max-width:1000px;
 margin:40px auto;
 padding:30px;
 background:#111;
 border:1px solid var(--gold);
}

footer{
 text-align:center;
 margin:40px;
 opacity:.6;
 cursor:pointer;
}
</style>
</head>

<body>

<div id="bg">
 <div class="slide"></div><div class="slide"></div>
 <div class="slide"></div><div class="slide"></div>
 <div class="slide"></div>
</div>
<div class="overlay"></div>

<audio id="music" src="0118.mp3" autoplay loop muted></audio>

<!-- EINLADUNG -->
<div class="card" id="invite">
<h1>Liebe Familie und Freunde!</h1>
<p>
<b>Ein Stern am Himmel und Schatz auf Erden wird 90</b><br><br>
Wir laden herzlich ein, den <b>90. Geburtstag von Maria Ronczka</b> mit uns zu feiern.<br><br>
<b>Wann:</b> Samstag, den 11. April 2026, ab 13 Uhr<br>
<b>Wo:</b> Gasthaus Greskamp, FunnenkampstraÃŸe 18, 59399 Olfen<br><br>
Wir freuen uns auf einen schÃ¶nen Tag mit Euch.<br>
Leider kÃ¶nnen wir keine Ãœbernachtung anbieten.<br>
RÃ¼ckmeldung bitte bis Ende Februar.<br><br>
<b>Maria Ronczka mit Familie</b>
</p>

<button onclick="openForm()">RÃ¼ckmeldung geben</button>
</div>

<!-- FORMULAR -->
<div class="modal" id="formModal">
<div class="modal-box">
<h3 style="color:var(--gold)">RÃ¼ckmeldung</h3>

<input id="name" placeholder="Name">
<input id="telefon" placeholder="Telefonnummer">
<label>Ankunft (ab 13 Uhr)</label>
<input type="time" id="zeit" min="13:00">
<input type="number" id="anzahl" min="1" placeholder="Anzahl Personen">
<textarea id="essen" placeholder="EssenswÃ¼nsche / Allergien"></textarea>
<textarea id="musikWunsch" placeholder="Musikwunsch"></textarea>
<textarea id="nachricht" placeholder="Nachricht"></textarea>

<button onclick="send()">Absenden</button>
<button onclick="closeForm()">SchlieÃŸen</button>
<p id="status"></p>
</div>
</div>

<!-- ADMIN -->
<div class="admin" id="admin">
<h2>ðŸ“Š GÃ¤steliste</h2>
<h3 id="summe"></h3>

<table>
<thead>
<tr><th>Name</th><th>Personen</th><th>Zeit</th><th>Aktion</th></tr>
</thead>
<tbody id="list"></tbody>
</table>

<button onclick="logout()">Admin schlieÃŸen</button>
</div>

<footer onclick="adminLogin()">Admin</footer>

<script>
const DB="https://geburtstag-bff4c-default-rtdb.europe-west1.firebasedatabase.app/anmeldungen";
const music=document.getElementById("music");

/* FORM */
function openForm(){
 formModal.style.display="flex";
 music.muted=false; music.play();
}
function closeForm(){ formModal.style.display="none"; }

async function send(){
 const data={
  name:name.value,
  telefon:telefon.value,
  zeit:zeit.value,
  anzahl:Number(anzahl.value),
  essen:essen.value,
  musik:musikWunsch.value,
  nachricht:nachricht.value,
  ts:Date.now()
 };
 await fetch(DB+".json",{method:"POST",body:JSON.stringify(data)});
 status.innerText="âœ… Gespeichert";
}

/* ADMIN */
async function adminLogin(){
 const pw=prompt("Admin Passwort:");
 if(pw!=="maria90") return;
 invite.style.display="none";
 admin.style.display="block";
 loadAdmin();
}

function logout(){
 admin.style.display="none";
 invite.style.display="block";
}

async function loadAdmin(){
 const res=await fetch(DB+".json");
 const data=await res.json();
 let sum=0;
 list.innerHTML="";
 for(let id in data){
  sum+=data[id].anzahl||0;
  list.innerHTML+=`
  <tr>
   <td>${data[id].name}</td>
   <td>${data[id].anzahl}</td>
   <td>${data[id].zeit||""}</td>
   <td><button onclick="del('${id}')">ðŸ—‘</button></td>
  </tr>`;
 }
 summe.innerText="Gesamtpersonen: "+sum;
}
async function del(id){
 await fetch(`${DB}/${id}.json`,{method:"DELETE"});
 loadAdmin();
}
</script>

</body>
</html>
