<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>90. Geburtstag ‚Äì Einladung</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --gold: #d4af37;
}

body {
    margin: 0;
    font-family: "Georgia", serif;
    color: white;
    background: black;
}

#slideshow {
    position: fixed;
    inset: 0;
    z-index: -1;
}
.slide {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    opacity: 0;
    animation: fade 50s infinite;
}
.slide:nth-child(1){animation-delay:0s;background-image:url("bilder/bild1.jpg")}
.slide:nth-child(2){animation-delay:10s;background-image:url("bilder/bild2.jpg")}
.slide:nth-child(3){animation-delay:20s;background-image:url("bilder/bild3.jpg")}
.slide:nth-child(4){animation-delay:30s;background-image:url("bilder/bild4.jpg")}
.slide:nth-child(5){animation-delay:40s;background-image:url("bilder/bild5.jpg")}

@keyframes fade {
    0%,100%{opacity:0}
    10%,25%{opacity:1}
}

.overlay {
    background: rgba(0,0,0,.65);
    max-width: 800px;
    margin: 40px auto;
    padding: 30px;
    border-radius: 12px;
    border: 2px solid var(--gold);
}

h2,h3 { color: var(--gold); }

button {
    background: var(--gold);
    border: none;
    padding: 12px 22px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 6px;
}

/* POPUP */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.8);
    justify-content: center;
    align-items: center;
}
.modal-content {
    background: #111;
    padding: 20px;
    width: 90%;
    max-width: 500px;
    border-radius: 10px;
    border: 2px solid var(--gold);
}

input, textarea, select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border-radius: 5px;
    border: none;
}

.progress {
    height: 8px;
    background: #444;
    border-radius: 4px;
}
.progress div {
    height: 100%;
    width: 0%;
    background: var(--gold);
}
</style>
</head>

<body>

<div id="slideshow">
<div class="slide"></div><div class="slide"></div>
<div class="slide"></div><div class="slide"></div>
<div class="slide"></div>
</div>

<audio id="musik" src="0118.mp3" loop autoplay muted></audio>

<div class="overlay">
<h2 id="title"></h2>
<p id="text"></p>

<button onclick="openModal()">üì® R√ºckmeldung</button>
<select onchange="setLang(this.value)">
<option value="de">Deutsch</option>
<option value="pl">Polski</option>
</select>
</div>

<!-- POPUP -->
<div class="modal" id="modal">
<div class="modal-content">
<h3>R√ºckmeldung</h3>

<input id="name" placeholder="Name">
<input id="telefon" placeholder="Telefon">

<label>Ankunft (ab 13 Uhr)</label>
<input type="time" id="zeit" min="13:00">

<input type="number" id="anzahl" min="1" placeholder="Anzahl Personen">

<textarea id="musikWunsch" placeholder="Musikwunsch (optional)"></textarea>
<textarea id="nachricht" placeholder="Nachricht"></textarea>

<button onclick="senden()">Absenden</button>
<button onclick="closeModal()">Schlie√üen</button>

<div class="progress"><div id="bar"></div></div>
<p id="status"></p>
</div>
</div>

<script>
const db="https://geburtstag-bff4c-default-rtdb.europe-west1.firebasedatabase.app/anmeldungen.json";
const audio=document.getElementById("musik");

function openModal(){
    document.getElementById("modal").style.display="flex";
    audio.muted=false; audio.play();
}
function closeModal(){
    document.getElementById("modal").style.display="none";
}

async function senden(){
    document.getElementById("bar").style.width="50%";
    await fetch(db,{
        method:"POST",
        body:JSON.stringify({
            name:name.value,
            telefon:telefon.value,
            zeit:zeit.value,
            anzahl:+anzahl.value,
            musik:musikWunsch.value,
            nachricht:nachricht.value,
            ts:Date.now()
        })
    });
    document.getElementById("bar").style.width="100%";
    document.getElementById("status").innerText="‚úÖ Gespeichert";
}

/* SPRACHEN */
const lang={
de:{
title:"Liebe Familie und Freunde!",
text:`Ein Stern am Himmel und Schatz auf Erden wird 90 ‚≠ê<br><br>
Wir laden herzlich ein, den 90. Geburtstag von Maria Ronczka zu feiern!<br><br>
<b>Wann:</b> 11. April 2026 ab 13 Uhr<br>
<b>Wo:</b> Gasthaus Greskamp, Olfen`
},
pl:{
title:"Droga Rodzino i Przyjaciele!",
text:`Gwiazda na niebie i skarb na ziemi ko≈Ñczy 90 lat ‚≠ê<br><br>
Zapraszamy serdecznie na 90. urodziny Marii Ronczki!`
}
}
function setLang(l){
    title.innerHTML=lang[l].title;
    text.innerHTML=lang[l].text;
}
setLang("de");
</script>

</body>
</html>
