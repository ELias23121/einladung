<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>90. Geburtstag Maria</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Open+Sans:wght@400;700&display=swap');

        body, html { margin: 0; padding: 0; height: 100%; font-family: 'Open Sans', sans-serif; background: #000; color: white; overflow: hidden; }

        /* SLIDESHOW MIT KORREKTEN PFADEN */
        .slideshow { position: fixed; width: 100%; height: 100%; z-index: -1; }
        .slideshow img { 
            position: absolute; width: 100%; height: 100%; object-fit: cover; 
            opacity: 0; animation: fade 25s infinite; 
        }
        
        /* Animation Verzögerung */
        .slideshow img:nth-child(1) { animation-delay: 0s; }
        .slideshow img:nth-child(2) { animation-delay: 5s; }
        .slideshow img:nth-child(3) { animation-delay: 10s; }
        .slideshow img:nth-child(4) { animation-delay: 15s; }
        .slideshow img:nth-child(5) { animation-delay: 20s; }

        @keyframes fade { 0% {opacity: 0} 10% {opacity: 1} 20% {opacity: 1} 30% {opacity: 0} 100% {opacity: 0} }

        /* TEXT OVERLAY */
        .hero { height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; background: rgba(0,0,0,0.4); text-align: center; padding: 20px; }
        h1 { font-family: 'Dancing Script', cursive; font-size: 3.5rem; color: #ffd700; margin: 0; text-shadow: 2px 2px 10px #000; }
        p { font-size: 1.2rem; margin: 10px 0; }

        .btn { background: #A0522D; color: #fff; padding: 15px 35px; border-radius: 50px; border: 2px solid #ffd700; cursor: pointer; font-size: 1.2rem; transition: 0.3s; }
        .btn:hover { transform: scale(1.05); background: #8B4513; }

        /* MODAL */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 100; overflow-y: auto; }
        .modal-box { background: white; color: #333; margin: 5% auto; padding: 30px; width: 90%; max-width: 400px; border-radius: 15px; position: relative; }
        input, textarea { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
    </style>
</head>
<body onclick="document.getElementById('musi').play()">

    <audio id="musi" loop src="Bilder/0118.mp3"></audio>

    <div class="slideshow">
        <img src="Bilder/bild1.jpeg">
        <img src="Bilder/bild2.jpeg">
        <img src="Bilder/bild3.jpeg">
        <img src="Bilder/bild4.jpeg">
        <img src="Bilder/bild5.jpeg">
    </div>

    <div class="hero">
        <p>Einladung zum 90. Geburtstag</p>
        <h1>Maria Ronczka</h1>
        <p>11. April 2026 | Gasthaus Greskamp</p>
        <button class="btn" onclick="document.getElementById('myModal').style.display='block'">Jetzt zusagen</button>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-box">
            <h2 style="font-family:'Dancing Script'; color:#A0522D; text-align:center; font-size:2rem;">Zusage</h2>
            <form id="form">
                <input type="text" id="name" placeholder="Dein Name" required>
                <input type="tel" id="tel" placeholder="Telefonnummer" required>
                <input type="number" id="anzahl" placeholder="Anzahl Personen" min="1" value="1">
                <textarea id="notiz" placeholder="Musikwunsch oder Anmerkungen"></textarea>
                <button type="button" class="btn" style="width:100%; color: white;" onclick="senden()">Absenden</button>
            </form>
            <p onclick="document.getElementById('myModal').style.display='none'" style="color:red; cursor:pointer; text-align:center; margin-top:20px;">Abbrechen</p>
        </div>
    </div>

    <script>
        // Firebase Verbindung
        var config = { databaseURL: "https://geburtstag-bff4c-default-rtdb.europe-west1.firebasedatabase.app" };
        firebase.initializeApp(config);

        function senden() {
            var n = document.getElementById("name").value;
            var t = document.getElementById("tel").value;
            var a = document.getElementById("anzahl").value;
            var o = document.getElementById("notiz").value;
            
            if(!n || !t) { alert("Bitte Namen und Telefon angeben"); return; }

            firebase.database().ref("anmeldungen").push({
                Name: n,
                Telefon: t,
                Gäste: a,
                Nachricht: o,
                Datum: new Date().toLocaleString()
            }).then(function() {
                alert("Erfolgreich gesendet! Wir freuen uns.");
                location.reload();
            }).catch(function(e) {
                alert("Fehler: " + e.message);
            });
        }
    </script>
</body>
</html>
