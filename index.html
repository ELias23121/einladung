<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Einladung Maria</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        body, html { margin: 0; padding: 0; height: 100%; font-family: sans-serif; background: #000; color: #fff; overflow: hidden; }
        
        /* Die Slideshow mit festen Pfaden */
        .slideshow { position: fixed; width: 100%; height: 100%; z-index: -1; }
        .slideshow img { 
            position: absolute; width: 100%; height: 100%; object-fit: cover; 
            opacity: 0; animation: fade 25s infinite; 
        }
        
        /* Pfade zu deinem "bilder" Ordner */
        .slideshow img:nth-child(1) { animation-delay: 0s; }
        .slideshow img:nth-child(2) { animation-delay: 5s; }
        .slideshow img:nth-child(3) { animation-delay: 10s; }
        .slideshow img:nth-child(4) { animation-delay: 15s; }
        .slideshow img:nth-child(5) { animation-delay: 20s; }

        @keyframes fade { 0% {opacity: 0} 10% {opacity: 1} 20% {opacity: 1} 30% {opacity: 0} 100% {opacity: 0} }

        .content { height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; background: rgba(0,0,0,0.4); text-align: center; }
        h1 { font-size: 3rem; color: #ffd700; margin-bottom: 0; }
        .btn { background: #A0522D; color: #fff; padding: 15px 30px; border-radius: 30px; border: 2px solid #ffd700; cursor: pointer; font-size: 1.2rem; margin-top: 20px; }
        
        /* Modal Einfach */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 100; overflow-y: auto; }
        .modal-box { background: white; color: black; margin: 10% auto; padding: 20px; width: 80%; max-width: 400px; border-radius: 10px; }
        input { width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box; }
    </style>
</head>
<body onclick="document.getElementById('musi').play()">

    <audio id="musi" loop src="bilder/0118.mp3"></audio>

    <div class="slideshow">
        <img src="bilder/bild1.jpg">
        <img src="bilder/bild2.jpg">
        <img src="bilder/bild3.jpg">
        <img src="bilder/bild4.jpg">
        <img src="bilder/bild5.jpg">
    </div>

    <div class="content">
        <h1>90 Jahre Maria</h1>
        <p>11. April 2026 | Olfen</p>
        <button class="btn" onclick="document.getElementById('myModal').style.display='block'">Zusagen</button>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-box">
            <h2>Anmeldung</h2>
            <form id="rsvp">
                <input type="text" id="name" placeholder="Name" required>
                <input type="tel" id="tel" placeholder="Telefon" required>
                <input type="number" id="anzahl" value="1" min="1">
                <button type="button" class="btn" style="width:100%; color: white;" onclick="senden()">Absenden</button>
            </form>
            <p onclick="document.getElementById('myModal').style.display='none'" style="color:red; cursor:pointer; text-align:center;">Abbrechen</p>
        </div>
    </div>

    <script>
        var config = { databaseURL: "https://geburtstag-bff4c-default-rtdb.europe-west1.firebasedatabase.app" };
        firebase.initializeApp(config);

        function senden() {
            var n = document.getElementById("name").value;
            var t = document.getElementById("tel").value;
            var a = document.getElementById("anzahl").value;
            
            if(!n || !t) return alert("Bitte alles ausfüllen");

            firebase.database().ref("anmeldungen").push({
                Name: n,
                Telefon: t,
                Gäste: a,
                Datum: new Date().toLocaleString()
            }).then(function() {
                alert("Erfolgreich!");
                location.reload();
            });
        }
    </script>
</body>
</html>
